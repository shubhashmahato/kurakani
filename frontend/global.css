/* Kurakani Global Styles */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Root Variables */
:root {
  --primary: #075E54;
  --primary-light: #128C7E;
  --primary-dark: #054740;
  --accent: #25D366;
  --accent-light: #34E677;
  --accent-dark: #1DA851;
  --background-light: #FFFFFF;
  --background-dark: #0B141A;
  --background-amoled: #000000;
  --surface-light: #F0F2F5;
  --surface-dark: #1C2A33;
  --chat-sent: #DCF8C6;
  --chat-received: #FFFFFF;
  --chat-sent-dark: #056162;
  --chat-received-dark: #262D31;
}

/* Base Styles */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Custom Utilities */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }
}

/* Custom Components */
@layer components {
  .btn-primary {
    @apply bg-primary text-white font-semibold py-3 px-6 rounded-lg active:opacity-80;
  }

  .btn-secondary {
    @apply bg-accent text-white font-semibold py-3 px-6 rounded-lg active:opacity-80;
  }

  .btn-outline {
    @apply border-2 border-primary text-primary font-semibold py-3 px-6 rounded-lg active:bg-primary active:text-white;
  }

  .input-field {
    @apply bg-gray-100 dark:bg-gray-800 rounded-lg px-4 py-3 text-base;
  }

  .card {
    @apply bg-white dark:bg-surface-dark rounded-2xl shadow-sm p-4;
  }

  .message-bubble-sent {
    @apply bg-chat-sent dark:bg-chat-sentDark rounded-lg rounded-tr-sm p-3 max-w-[80%];
  }

  .message-bubble-received {
    @apply bg-chat-received dark:bg-chat-receivedDark rounded-lg rounded-tl-sm p-3 max-w-[80%];
  }

  .chat-input {
    @apply bg-white dark:bg-surface-dark rounded-full px-4 py-3 text-base flex-1;
  }

  .avatar-small {
    @apply w-10 h-10 rounded-full;
  }

  .avatar-medium {
    @apply w-16 h-16 rounded-full;
  }

  .avatar-large {
    @apply w-24 h-24 rounded-full;
  }

  .badge {
    @apply bg-accent text-white text-xs font-bold rounded-full px-2 py-1;
  }

  .badge-count {
    @apply bg-accent text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center;
  }

  .divider {
    @apply h-px bg-gray-200 dark:bg-gray-700 my-2;
  }

  .section-header {
    @apply text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2;
  }

  .list-item {
    @apply bg-white dark:bg-surface-dark px-4 py-3 active:bg-gray-50 dark:active:bg-gray-800;
  }

  .status-online {
    @apply w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-900;
  }

  .status-offline {
    @apply w-3 h-3 bg-gray-400 rounded-full border-2 border-white dark:border-gray-900;
  }

  .typing-indicator {
    @apply flex items-center space-x-1;
  }

  .typing-dot {
    @apply w-2 h-2 bg-gray-500 rounded-full animate-bounce;
  }

  .skeleton {
    @apply bg-gray-200 dark:bg-gray-700 animate-pulse rounded;
  }

  .gradient-primary {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  }

  .gradient-accent {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
  }

  .glass-effect {
    @apply bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg;
  }

  .chat-background-light {
    background: #ECE5DD;
    background-image: 
      repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0,0,0,.02) 10px, rgba(0,0,0,.02) 20px);
  }

  .chat-background-dark {
    background: #0B141A;
    background-image: 
      repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,.02) 10px, rgba(255,255,255,.02) 20px);
  }
}

/* Animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slide-down {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slide-left {
  from {
    transform: translateX(20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-right {
  from {
    transform: translateX(-20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes scale-in {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes bounce-dot {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

/* Animation Classes */
.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out;
}

.animate-slide-left {
  animation: slide-left 0.3s ease-out;
}

.animate-slide-right {
  animation: slide-right 0.3s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.3s ease-out;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Message Bubble Variations */
.bubble-whatsapp-sent {
  @apply bg-chat-sent dark:bg-chat-sentDark rounded-lg rounded-tr-sm;
}

.bubble-whatsapp-received {
  @apply bg-chat-received dark:bg-chat-receivedDark rounded-lg rounded-tl-sm;
}

.bubble-ios-sent {
  @apply bg-blue-500 rounded-3xl rounded-tr-md;
}

.bubble-ios-received {
  @apply bg-gray-200 dark:bg-gray-700 rounded-3xl rounded-tl-md;
}

.bubble-telegram-sent {
  @apply bg-primary rounded-2xl rounded-br-md;
}

.bubble-telegram-received {
  @apply bg-white dark:bg-surface-dark rounded-2xl rounded-bl-md;
}

.bubble-android-sent {
  @apply bg-primary rounded-lg rounded-br-none;
}

.bubble-android-received {
  @apply bg-surface-light dark:bg-surface-dark rounded-lg rounded-bl-none;
}

.bubble-rounded-sent {
  @apply bg-primary rounded-full;
}

.bubble-rounded-received {
  @apply bg-surface-light dark:bg-surface-dark rounded-full;
}

.bubble-square-sent {
  @apply bg-primary rounded-md;
}

.bubble-square-received {
  @apply bg-surface-light dark:bg-surface-dark rounded-md;
}

/* Story Styles */
.story-ring {
  @apply p-0.5 rounded-full;
  background: linear-gradient(45deg, #F58529, #DD2A7B, #8134AF, #515BD4);
}

.story-ring-viewed {
  @apply p-0.5 rounded-full bg-gray-300 dark:bg-gray-600;
}

/* Call UI */
.call-button {
  @apply w-16 h-16 rounded-full flex items-center justify-center shadow-lg active:scale-95 transition-transform;
}

.call-button-answer {
  @apply call-button bg-green-500;
}

.call-button-decline {
  @apply call-button bg-red-500;
}

.call-button-mute {
  @apply call-button bg-gray-700;
}

.call-button-video {
  @apply call-button bg-blue-500;
}

/* Channel Badge */
.verified-badge {
  @apply w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center;
}

/* Loading Spinner */
.spinner {
  @apply w-6 h-6 border-2 border-gray-200 border-t-primary rounded-full;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Reaction Picker */
.reaction-emoji {
  @apply text-2xl p-2 rounded-full active:bg-gray-100 dark:active:bg-gray-800 transition-colors;
}

/* Search Bar */
.search-bar {
  @apply bg-gray-100 dark:bg-gray-800 rounded-full px-4 py-2 flex items-center space-x-2;
}

/* Tab Bar */
.tab-bar {
  @apply flex flex-row bg-white dark:bg-surface-dark border-t border-gray-200 dark:border-gray-700;
}

.tab-item {
  @apply flex-1 items-center py-2 active:bg-gray-50 dark:active:bg-gray-800;
}

.tab-item-active {
  @apply tab-item;
}

/* Modal Overlay */
.modal-overlay {
  @apply absolute inset-0 bg-black/50;
}

.modal-content {
  @apply bg-white dark:bg-surface-dark rounded-t-3xl p-6;
}

/* Toast */
.toast {
  @apply bg-gray-900 dark:bg-gray-100 text-white dark:text-black px-4 py-3 rounded-full shadow-lg;
}

.toast-success {
  @apply toast bg-green-500;
}

.toast-error {
  @apply toast bg-red-500;
}

.toast-warning {
  @apply toast bg-orange-500;
}

/* Pull to Refresh */
.pull-to-refresh-indicator {
  @apply flex items-center justify-center py-4;
}

/* Empty State */
.empty-state {
  @apply flex flex-col items-center justify-center py-12 px-6;
}

.empty-state-icon {
  @apply text-6xl mb-4 opacity-50;
}

.empty-state-text {
  @apply text-center text-gray-500 dark:text-gray-400;
}

/* Scrollbar (web) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Utility Classes */
.text-shadow {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.elevation-1 {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
}

.elevation-2 {
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
}

.elevation-3 {
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
}

/* Transitions */
.transition-all {
  transition: all 0.3s ease;
}

.transition-fast {
  transition: all 0.15s ease;
}

.transition-slow {
  transition: all 0.5s ease;
}